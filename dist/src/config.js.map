{"version":3,"file":"config.js","sourceRoot":"","sources":["../../src/config.ts"],"names":[],"mappings":";AAAA,MAAY,MAAM,WAAM,QAAQ,CAAC,CAAA;AAEjC;IAIE,YAAY,GAAG,IAAI;QACjB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,OAAO,CAAC,GAAG;YACd,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;gBACxC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACxB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,GAAG;QACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,SAAS,CAAC,MAAc;QACtB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;IACtD,CAAC;IAED,QAAQ,CAAC,MAAoB;QAC3B,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC3C,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACX,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;YACtE,MAAM,CAAC,MAAM,CAAC;QAChB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzB,MAAM,CAAC,MAAM,CAAC;QAChB,CAAC;IACH,CAAC;AAEH,CAAC;AAhCY,oBAAY,eAgCxB,CAAA","sourcesContent":["import * as lodash from 'lodash';\n\nexport class ConfigModule {\n\n  private config: Array<ModuleConfig>;\n\n  constructor(...args) {\n    this.config = [];\n    args.forEach(arg => {\n      if (arg.module && arg.type === 'config') {\n        this.config.push(arg);\n      }\n    });\n  }\n\n  get(): Array<ModuleConfig> {\n    return this.config;\n  }\n\n  getModule(module: string): ModuleConfig {\n    return lodash.find(this.config, { module: module });\n  }\n\n  defaults(module: ModuleConfig): ModuleConfig {\n    let config = this.getModule(module.module);\n    if (config) {\n      lodash.defaultsDeep(this.config[this.config.indexOf(config)], module);\n      return config;\n    } else {\n      this.config.push(module);\n      return module;\n    }\n  }\n\n}\n\nexport interface ModuleConfig {\n  module: string,\n  type: string,\n  options: any\n}\n"]}